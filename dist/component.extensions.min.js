!function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t():"function"==typeof define&&define.amd?define([],t):(e.elliptical=e.elliptical||{},e.elliptical.extensions=e.elliptical.extensions||{},e.elliptical.extensions.element=t(),e.returnExports=e.elliptical.extensions.element)}(this,function(){return{created:function(){this.element=$(this)}}}),function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t():"function"==typeof define&&define.amd?define([],t):(e.elliptical=e.elliptical||{},e.elliptical.extensions=e.elliptical.extensions||{},e.elliptical.extensions.utils=t(),e.returnExports=e.elliptical.extensions.utils)}(this,function(){return{_utils:$.utils,_DOMParser:function(e){return(new DOMParser).parseFromString(e,"text/html")},_preloadImages:function(e,t){var i=[],n={},o={},r=e.find("img").not("[data-src]"),a=r.length,s=0;return 0===a?(t&&(n.message="No images found in element",t(n,null)),!1):($.each(r,function(e,n){var r=new Image;$(r).bind("load",function(e){s++,i.push(r),s===a&&t&&(o.images=i,o.length=s,t(null,o))}),r.src=n.src}),!0)},_scrollTop:function(e,t){"number"!=typeof e?e=0:"undefined"==typeof t&&(t="scrollTop"),setTimeout(function(){window.scrollTo(0,e),$(document).trigger(t,{x:0,y:e})},20)},_setModal:function(e,t,i){var n=arguments.length;0===n?(e=$("body"),t={},i=null):1===n?"function"==typeof e?(i=e,e=$("body"),t={}):e.context?(t={},i=null):(t=e,e=$("body")):2===n&&("function"==typeof t?(i=t,void 0===e.context?(t=e,e=$("body")):t={}):i=null);var o=$('<div class="ui-modal"></div>');t.cssClass&&o.addClass(t.cssClass),t.zIndex&&o.css({"z-index":t.zIndex}),this._data?this._data.set("modal",o):this._modal=o;var r=t.opacity?t.opacity:.3;o.css({opacity:0}),e.append(o),this._transition(o,{opacity:r,duration:250},function(){i&&i()})},_removeModal:function(e){var t=this,i=null;i=this._data?this._data.get("modal"):this._modal,i&&void 0!==i&&this._transition(i,{opacity:0,duration:250},function(){i.remove(),t._data?t._data.set("modal",null):t._modal=null,e&&e()})}}}),function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t():"function"==typeof define&&define.amd?define([],t):(e.elliptical=e.elliptical||{},e.elliptical.extensions=e.elliptical.extensions||{},e.elliptical.extensions.dataStore=t(),e.returnExports=e.elliptical.extensions.dataStore)}(this,function(){return{_data:{_store:{},get:function(e){return this._store?this._store[e]:void 0},set:function(e,t){this._store&&(this._store[e]=t)}}}}),function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t():"function"==typeof define&&define.amd?define([],t):(e.elliptical=e.elliptical||{},e.elliptical.extensions=e.elliptical.extensions|{},e.elliptical.extensions.device=t(),e.returnExports=elliptical.extensions.device)}(this,function(){return{_device:$.device,_mq:$.mq,_press:function(){return"ontouchend"in document?"touchstart":"click"},_mode:function(){return this._device.viewport.width>768?"desktop":"touch"}}}),function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t():"function"==typeof define&&define.amd?define([],t):(e.elliptical=e.elliptical||{},e.elliptical.extensions=e.elliptical.extensions|{},e.elliptical.extensions.drawer=t(),e.returnExports=elliptical.extensions.drawer)}(this,function(){return{_createDrawer:function(e,t){if(!this._data.get("locked")){this._data.set("locked",!0);var i=$("ui-container");this._data.set("container",i);var n=i.parent();this._data.set("transformContainer",n);var o=$("<touch-ui-drawer></touch-ui-drawer>");t&&o.addClass(t);var r=this._device.viewport.height;o.css({"min-height":r+"px"}),this._device.touch||o.css({position:"relative"});var a=$("<header></header>");o.append(a);var s=$("<section></section>");o.append(s),i.before(o),this._data.set("drawer",o),this._data.set("drawerHeader",a),this._data.set("drawerSection",s)}},_openDrawer:function(e,t){this._showDrawer();var i=this._device.viewport.height;this.options?this.options.height=i:this.height=i;var n=this,o=this._data.get("container"),r=this._data.get("transformContainer");this._setHardwareAcceleration(r),o.addClass("ui-fixed-toggle-container").css({height:i+"px"}).addClass("ui-drawer-box-shadow");var a=$("<ui-overlay></ui-overlay>");a.addClass("show"),o.append(a),this._data.set("overlay",a);var s=this.options?this.options.overlayBackground:this.overlayBackground,l=this.options?this.options.overlayOpacity:this.overlayOpacity,d=this.options?this.options.overlayOpenDuration:this.overlayOpenDuration,c=this.options?this.options.transformDuration:this.transformDuration,u=this.options?this.options.transformDelay:this.transformDelay,p=this.options?this.options.translateX:this.translateX;a.transition({background:s,opacity:l,duration:d});var f={};f.duration=c,f.delay=u,f.easing="ease-in-out";var h={};h.x=p,h.y=0,h.z=0,f.coordinates=h,f.transitionEnd=!0;var m=this._data.click,_=this._closeDrawer.bind(this);this.element.trigger("drawer.open",{open:!0,closeEvent:_}),this._3dTransition(o,f,function(){n._resetHardwareAcceleration(r),n._resetTransition($(this)),e&&e()}),a.on(m,function(){t&&t()})},_closeDrawer:function(e){var t=this.options?this.options.height:this.height,i=this._data.get("container"),n=window.scrollY;if(n>0){t+=n,i.css({height:t+"px"}),this.element.css({top:n+"px"});var o=this._data.get("drawerHeader");o.css({top:n+"px"})}var r=this._data.get("transformContainer"),a=this.options?this.options.overlayBackground:this.overlayBackground,s=this.options?this.options.overlayCloseDuration:this.overlayCloseDuration,l=this.options?this.options.transformDuration:this.transformDuration,d=this.options?this.options.transformDelay:this.transformDelay,c=this._data.get("overlay"),u=this;this._setHardwareAcceleration(r);var p={};p.duration=l,p.delay=d,p.easing="ease-in-out";var f={};f.x=0,f.y=0,f.z=0,p.coordinates=f,p.transitionEnd=!0,this.element.trigger("drawer.close",{open:!1}),this._3dTransition(i,p,function(){u._resetHardwareAcceleration(r),u._resetContainer(i),u._hideDrawer(),e&&e()});var h=this._data.click;c.off(h),c.transition({background:a,opacity:0,duration:s},function(){c.remove()})},_showDrawer:function(){var e=this._device.viewport.height,t=this._data.get("drawer");t.css({"min-height":e+"px",display:"block"})},_hideDrawer:function(){var e=this._data.get("drawerHeader");e.css({top:""});var t=this._data.get("drawer");t.hide()},_removeDrawer:function(){var e=this._data.get("drawer");e&&(e.remove(),this._data.set("drawer",null)),this._data.set("locked",!1);var t=this._data.get("container");this._resetContainer(t);var i=this._data.get("overlay");i&&i.remove();var n=this._data.get("transformContainer");this._resetHardwareAcceleration(n)},showDrawer:function(){this._showDrawer()},hideDrawer:function(){this._hideDrawer()}}}),function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t():"function"==typeof define&&define.amd?define([],t):(e.elliptical=e.elliptical||{},e.elliptical.extensions=e.elliptical.extensions||{},e.elliptical.extensions.transition=t(),e.returnExports=e.elliptical.extensions.transition)}(this,function(){return{_transition:function(e,t,i){return $.transition=$.transition||$.transit,e instanceof jQuery||(e=$(e)),t=t||{},t==={}&&(t.duration=300,t.preset="fadeIn"),"none"===t.preset?void e.hide():void e.transition(t,function(){i&&i.call(e[0])})}}}),function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t():"function"==typeof define&&define.amd?define([],t):(e.elliptical=e.elliptical||{},e.elliptical.extensions=e.elliptical.extensions||{},e.elliptical.extensions.transform=t(),e.returnExports=e.elliptical.extensions.transform)}(this,function(){var e=$.transforms,t="ui-hardware-accelerated",i="ui-overflow-container",n="ui-fixed-toggle-container",o="ui-drawer-box-shadow";return{_setHardwareAcceleration:function(i){this._data.set("toggleAcceleration",e.setHardwareAcceleration(i,t))},_resetHardwareAcceleration:function(i){e.resetHardwareAcceleration(i,this._data.get("toggleAcceleration"),t)},_setContainerOverflow:function(t){this._data.set("toggleOverflow",e.setContainerOverflow(t,i))},_resetContainerOverflow:function(t){e.resetContainerOverflow(t,i)},_resetContainer:function(t){e.resetContainer(t,o,n)},_resetTransition:function(t){e.resetTransition(t)},_resetTransform:function(t){e.resetTransform(t)},_transform:function(t,i){e.transform(t,i)},_3dTransition:function(t,i,n){e.transition3d(t,i,n)}}}),function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t():"function"==typeof define&&define.amd?define([],t):(e.elliptical=e.elliptical||{},e.elliptical.extensions=e.elliptical.extensions||{},e.elliptical.extensions.template=t(e.elliptical.utils,e.dust),e.returnExports=e.elliptical.extensions.template)}(this,function(e,t){var i=e.random;return{__precompile:function(e,i){e=e.replace(/&quot;/g,'"');var n=t.compile(e,i);t.loadSource(n)},_precompileTemplate:function(e,t){var i=e.innerHTML;this.__precompile(i,t)},_render:function(e,i,n,o){t.render(i,n,function(t,i){i&&(e.innerHTML=i),o&&o(t,html)})},_renderTemplate:function(e,i,n){t.render(e,i,n)},_renderTemplateString:function(e,t,n){var o="template-"+i.str(6);this.__precompile(e,o),this._renderTemplate(o,t,n)}}}),function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t():"function"==typeof define&&define.amd?define([],t):(e.elliptical=e.elliptical||{},e.elliptical.extensions=e.elliptical.extensions||{},e.elliptical.extensions.event=t(),e.returnExports=e.elliptical.extensions.event)}(this,function(){return{_onEventTrigger:function(e,t){this._triggerEvent(e,t)},_triggerEvent:function(e,t){var i=$.Event(e);this._trigger(e,i,t)},_trigger:function(e,t,i){this.options?this._jqTrigger(e,t,i):this.__triggerEvent(e,i)},__triggerEvent:function(e,t){var i=this._utils.string.tagNameToNamespace(tagName);e=i+"."+e,this.element.trigger(e,t)},_jqTrigger:function(e,t,i){try{var n,o,r=this.options[e];i=i||{};var a=this.widgetEventPrefix,s=this.bindings[0].tagName.toLowerCase(),l=s.split("-"),d=l.length,c=this._utils.string.tagNameToNamespace(s),u=a.toArrayFromCamelCase(),p=this._utils.array.toNamespaceFromArray(u);if(a=p===c?p:d>1?c+"."+a:this.namespace+"."+a,t=$.Event(t),t.type=(e===a?e:a+"."+e).toLowerCase(),t.target=this.element[0],o=t.originalEvent)for(n in o)n in t||(t[n]=o[n]);return this.element.trigger(t,i),!($.isFunction(r)&&r.apply(this.element[0],[t].concat(i))===!1||t.isDefaultPrevented())}catch(f){}}}}),function(e,t){if("undefined"!=typeof module&&module.exports)module.exports=t(require("elliptical-utils"),require("jquery-extensions"),require("./element"),require("./dataStore"),require("./device"),require("./template"),require("./transition"),require("./transform"),require("./utils"),require("./event"));else if("function"==typeof define&&define.amd)define(["elliptical-utils","jquery-extensions","./prototype.element","./prototype.dataStore","./prototype.device","./prototype.template","./prototype.transition","./prototype.transform","./prototype.utils","./prototype.event"],t);else{var i=e.elliptical.prototype.extensions;e.elliptical.extensions.mixin=t(e.elliptical.utils,e,i.element,i.dataStore,i.device,i.template,i.transition,i.transform,i.utils,i.event),e.returnExports=e.elliptical.extensions.mixin}}(this,function(e,t,i,n,o,r,a,s,l,d){return Object.assign({},i,n,l,o,r,a,s,d)});