!function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t():"function"==typeof define&&define.amd?define([],t):(e.elliptical=e.elliptical||{},e.elliptical.extensions=e.elliptical.extensions||{},e.elliptical.extensions.utils=t(),e.returnExports=e.elliptical.extensions.utils)}(this,function(){return{_utils:$.utils,_DOMParser:function(e){return(new DOMParser).parseFromString(e,"text/html")},_preloadImages:function(e,t){var n=[],i={},o={},r=e.find("img").not("[data-src]"),a=r.length,s=0;return 0===a?(t&&(i.message="No images found in element",t(i,null)),!1):($.each(r,function(e,i){var r=new Image;$(r).bind("load",function(e){s++,n.push(r),s===a&&t&&(o.images=n,o.length=s,t(null,o))}),r.src=i.src}),!0)},_scrollTop:function(e,t){"number"!=typeof e?e=0:"undefined"==typeof t&&(t="scrollTop"),setTimeout(function(){window.scrollTo(0,e),$(document).trigger(t,{x:0,y:e})},20)},_setModal:function(e,t,n){var i=arguments.length;0===i?(e=$("body"),t={},n=null):1===i?"function"==typeof e?(n=e,e=$("body"),t={}):e.context?(t={},n=null):(t=e,e=$("body")):2===i&&("function"==typeof t?(n=t,void 0===e.context?(t=e,e=$("body")):t={}):n=null);var o=$('<div class="ui-modal"></div>');t.cssClass&&o.addClass(t.cssClass),t.zIndex&&o.css({"z-index":t.zIndex}),t.background&&o.css({background:t.background}),this._data?this._data.set("modal",o):this._modal=o;var r=t.opacity?t.opacity:.3;o.css({opacity:0}),e.append(o),this._transition(o,{opacity:r,duration:250},function(){n&&n()})},_removeModal:function(e){var t=this,n=null;n=this._data?this._data.get("modal"):this._modal,n&&void 0!==n&&this._transition(n,{opacity:0,duration:250},function(){n.remove(),t._data?t._data.set("modal",null):t._modal=null,e&&e()})},_resetSemanticState:function(){this.element.removeClass("error").removeClass("warning").removeClass("success").removeClass("info")},_setChildrenAttributes:function(){var e=this.element;e[0].hasAttribute&&e[0].hasAttribute("disabled")&&e.query("input,textarea,select",function(e){e[0]&&e.attr("disabled",!0)}),e[0].hasAttribute&&e[0].hasAttribute("readonly")&&e.query("input,textarea,select",function(e){e[0]&&e.attr("readonly",!0)})},_enableChildrenAttributes:function(){var e=this.element;e.query("input,textarea,select",function(e){e[0]&&e.attr("disabled",!1)}),e.query("input,textarea,select",function(e){e[0]&&e.attr("readonly",!1)})},_find:function(e){return this.element.find(e)},_jsonParseMessage:function(e){try{var t=JSON.parse(e);return t.message?t.message:e}catch(n){return e}}}}),function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t():"function"==typeof define&&define.amd?define([],t):(e.elliptical=e.elliptical||{},e.elliptical.extensions=e.elliptical.extensions||{},e.elliptical.extensions.device=t(),e.returnExports=elliptical.extensions.device)}(this,function(){return{_device:$.device,_mq:$.device.mq,_press:function(){return"ontouchend"in document?"touchstart":"click"},_mode:function(){return this._device.viewport.width>768?"desktop":"touch"}}}),function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t():"function"==typeof define&&define.amd?define([],t):(e.elliptical=e.elliptical||{},e.elliptical.extensions=e.elliptical.extensions||{},e.elliptical.extensions.drawer=t(),e.returnExports=elliptical.extensions.drawer)}(this,function(){return{_createDrawer:function(e,t){if(!this._data.get("locked")){this._data.set("locked",!0);var n=$("ui-container");this._data.set("container",n);var i=n.parent();this._data.set("transformContainer",i);var o=$("<touch-ui-drawer></touch-ui-drawer>");t&&o.addClass(t);var r=this._device.viewport.height;o.css({"min-height":r+"px"}),this._device.touch||o.css({position:"relative"});var a=$("<header></header>"),s=this.element.find("touch-header");s[0]&&a.append(s),o.append(a);var d=$("<section></section>");o.append(d),n.before(o),this._data.set("drawer",o),this._data.set("drawerHeader",a),this._data.set("drawerSection",d)}},_openDrawer:function(e,t){var n=this;this._showDrawer();var i=this._device.viewport.height;this.options?this.options.height=i:this.height=i;var o=this._data.get("container"),r=this._data.get("transformContainer");this._setHardwareAcceleration(r),o.addClass("ui-fixed-toggle-container").css({height:i+"px"}).addClass("ui-drawer-box-shadow");var a=$("<ui-overlay></ui-overlay>");a.addClass("show"),o.append(a),this._data.set("overlay",a);var s=this.options?this.options.overlayBackground:this.overlayBackground,d=this.options?this.options.overlayOpacity:this.overlayOpacity,u=this.options?this.options.overlayOpenDuration:this.overlayOpenDuration,l=this.options?this.options.transformDuration:this.transformDuration,c=this.options?this.options.transformDelay:this.transformDelay,h=this.options?this.options.translateX:this.translateX;a.transition({background:s,opacity:d,duration:u});var p={};p.duration=l,p.delay=c,p.easing="ease-in-out";var f={};f.x=h,f.y=0,f.z=0,p.coordinates=f,p.transitionEnd=!0;var m=this._data.click,v=this._closeDrawer.bind(this);this.element.trigger("drawer.open",{open:!0,closeEvent:v}),this._3dTransition(o,p,function(){n._resetHardwareAcceleration(r),n._resetTransition($(this)),e&&e()}),a.on(m,function(){t&&t()})},_closeDrawer:function(e){var t=this.options?this.options.height:this.height,n=this._data.get("container"),i=window.scrollY;if(i>0){t+=i,n.css({height:t+"px"}),this.element.css({top:i+"px"});var o=this._data.get("drawerHeader");o.css({top:i+"px"})}var r=this._data.get("transformContainer"),a=this.options?this.options.overlayBackground:this.overlayBackground,s=this.options?this.options.overlayCloseDuration:this.overlayCloseDuration,d=this.options?this.options.transformDuration:this.transformDuration,u=this.options?this.options.transformDelay:this.transformDelay,l=this._data.get("overlay"),c=this;this._setHardwareAcceleration(r);var h={};h.duration=d,h.delay=u,h.easing="ease-in-out";var p={};p.x=0,p.y=0,p.z=0,h.coordinates=p,h.transitionEnd=!0,this.element.trigger("drawer.close",{open:!1}),this._3dTransition(n,h,function(){c._resetHardwareAcceleration(r),c._resetContainer(n),c._hideDrawer(),e&&e()});var f=this._data.click;l.off(f),l.transition({background:a,opacity:0,duration:s},function(){l.remove()})},_showDrawer:function(){var e=this._device.viewport.height,t=this._data.get("drawer");t.css({"min-height":e+"px",display:"block"})},_hideDrawer:function(){var e=this._data.get("drawerHeader");e.css({top:""});var t=this._data.get("drawer");t.hide()},_removeDrawer:function(){var e=this._data.get("drawer");e&&(e.remove(),this._data.set("drawer",null)),this._data.set("locked",!1);var t=this._data.get("container");this._resetContainer(t);var n=this._data.get("overlay");n&&n.remove();var i=this._data.get("transformContainer");this._resetHardwareAcceleration(i)},_onDestroy:function(){},showDrawer:function(){this._showDrawer()},hideDrawer:function(){this._hideDrawer()}}}),function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t():"function"==typeof define&&define.amd?define([],t):(e.elliptical=e.elliptical||{},e.elliptical.extensions=e.elliptical.extensions||{},e.elliptical.extensions.navigation=t(),e.returnExports=e.elliptical.extensions.navigation)}(this,function(){return{_createTouchNavigation:function(e,t){this._data.set("input",null),this._data.set("touchInput",null),this._createDrawer(e,t),this._createTouchMenu(e)},_removeTouchNavigation:function(e){var t=this._data.get("touchInput");t&&this._unbindSearch(t),this._removeDrawer(),this.element.css({position:""}),this._data.set("navLocked",!1)},_createTouchMenu:function(e){if(!this._data.get("navLocked")){this._data.set("navLocked",!0);var t=(this._data.get("drawer"),this._data.get("drawerSection"));if(t){var n=this._data.get("drawerHeader"),i=$("<touch-ui-menu></touch-ui-menu>"),o=this.options?this.options.includeHome:this.includeHome,r=this.options?this.options.homeUrl:this.homeUrl,a=this.options?this.options.homeIcon:this.homeIcon,s=this.options?this.options.touchMenu:this.touchMenu,d=this.options?this.options.model:this.model;if(o&&i.append(this._methods.createHomeListItem(r,a)),void 0!==s&&s===!1)return t.append(i),void this._data.set("drawerMenu",i);var u=this._getMenu(e),l=u.clone(),c=this._extractMenuItems(l);c.find("ui-button-dropdown").contents().unwrap(),c=this._methods.replaceWithMenuItemTags(c),this._methods.touchifyUIDropdowns(c),this._methods.iconifyTouchMenuItems(c),i.append(c),i=this._methods.addParentNodesToChildDropDowns(i,"ui-dropdown"),this._appendSearch(i,n);var h=this._methods.createMenuItemsFromArray(d);h&&i.append(h);var p=this.element.find("touch-section[header]");if(p[0]){var f=p.clone();t.append(f)}t.append(i);var m=this.element.find("touch-section[footer]");if(m[0]){var v=m.clone();t.append(v)}this._data.set("drawerMenu",i)}}},_getMenu:function(e){return e.find("ui-menu").not('[touch-menu="false"]').add(e.find('[role="menu"]'))},_extractMenuItems:function(e){var t='[touch-menu-item="false"]',n=e.children().not(t).add(e.find('[data-role="menu-item-dropdown"]'));return this._methods.filterMenuItems(n)},_appendSearch:function(e,t){var n=this;setTimeout(function(){var e=n.element.find("[role=search]");if(e[0]){var i=e.clone();t.append(i)}},1e3)},_appendMenuModel:function(){var e=this.options?this.options.model:this.model;if(this._mq.touch){var t=this._data.get("drawerMenu"),n=this._methods.createMenuItemsFromArray(e);n&&t.append(n)}},_addMenuModel:function(e){var t=$("touch-ui-menu"),n=this._methods.createMenuItemsFromArray(e);t.append(n)},_initSearchHandler:function(){var e="ui-search",t=this.element.find(e);if(t[0]){var n=t.find("input");return this._data.set("input",n),this._onSearch(n,"desktop"),t}return null},_initTouchSearchHandler:function(e,t){var n=e.clone(),i=n.find("input");i[0]&&(this._data.set("touchInput",i),t.append(n),this._onSearch(i,"touch"))},_onSearch:function(e,t){if("desktop"===t){if(this._data.get("searchRegistered"))return!1;this._data.set("searchRegistered",!0),this._onDesktopSearch(e)}else{if(this._data.get("touchSearchRegistered"))return!1;this._data.set("touchSearchRegistered",!0)}},_onDesktopSearch:function(e){function t(e){var t=e.val(),i={value:t};""!==t?n("search",i):e.removeClass("focused")}var n=this._onEventTrigger.bind(this);e.on("click",function(n){$(this).hasClass("focused")?t(e):e.addClass("focused")}),e.keypress(function(n){return 13===n.which?(t(e),!0):void 0}),e.on("blur",function(){e.removeClass("focused")})},_onTouchSearch:function(e){function t(e){var t=e.val(),i={value:t};""!==t?n("search",i):e.removeClass("focused")}var n=this._onEventTrigger.bind(this);e.on("tap",function(n){$(this).hasClass("focused")?t(e):e.addClass("focused")}),e.on("blur",function(){e.removeClass("focused"),e.off("tap")})},__dropdownSelector:function(){return"touch-ui-dropdown"},__menuItemSelector:function(){return"menu-item-dropdown"},_touchToggleDropdown:function(e){var t=this.__dropdownSelector(),n=e.find(t);n.hasClass("show")?(e.removeClass("close"),n.removeClass("show")):(e.addClass("close"),n.addClass("show"))},_touchMenuItem:function(e,t){var n=this,i=this.options?this.options.transformDuration:this.transformDuration;i+=100;var o=e.attr("data-id"),r=e.attr("href"),a=e.attr("data-action"),s=e.attr("data-route");if(s&&"false"===s&&(t=!0),this._hide(),"undefined"!=typeof r&&"#"!=r&&"undefined"==typeof a&&t)setTimeout(function(){"undefined"!=typeof r&&n._location(r)},i);else{var d={id:o,action:a,mode:"touch",href:r};this._onEventTrigger("selected",d)}},_touchMenuLink:function(e,t){var n=e.attr("href");if("undefined"==typeof n||"#"===n){var i=e.parent("menu-item-dropdown");i[0]&&this._touchToggleDropdown(i)}else this._touchMenuItem(e,t)},_resetMenu:function(){var e=this._data.get("drawerMenu");e.find(".show").removeClass("show"),e.find(".close").removeClass("close")},_methods:{listItem:function(){return"menu-item"},dropdownListItem:function(){return"menu-item-dropdown"},iconAttribute:function(){return"touch-icon"},dropdownElement:function(){return"<ui-dropdown></ui-dropdown>"},createSpanItem:function(e){return $("<span>"+e+"</span>")},createCloneListItem:function(e,t){return $("<"+this.listItem()+'<a href="'+e+'">'+t+"</a></"+this.listItem()+">")},addParentNodesToChildDropDowns:function(e,t){var n=e.find(this.dropdownListItem()),i=this;return n.each(function(e,n){var o=$(n).children("a"),r=o.attr("href");if("undefined"!=typeof r&&"#"!=r){var a=o.html(),s=i.createCloneListItem(r,a),d=$(n).find("."+t);d.prepend(s);var u=i.createSpanItem(a);o.replaceWith(u)}}),e},createMenuItemsFromArray:function(e){if(0===e.length)return null;for(var t,n=[],i=0;i<e.length;i++)if(e[i].dropdown&&e[i].dropdown.length>0){t="undefined"!=typeof e[i].icon?$('<menu-item-dropdown><span class="touch-icon '+e[i].icon+'"></span><a>'+e[i].label+"</a></menu-item-dropdown>"):$("<menu-item-dropdown><a>"+e[i].label+"</a></menu-item-dropdown>");for(var o=$("<touch-ui-dropdown></touch-ui-dropdown>"),r=0;r<e[i].dropdown.length;r++){var a=$('<menu-item><a href="'+e[i].dropdown[r].url+'">'+e[i].dropdown[r].label+"</a></menu-item>");o.append(a)}t.append(o),n.push(t)}else t="undefined"!=typeof e[i].icon?$('<menu-item><span class="touch '+e[i].icon+'"><a href="'+e[i].url+'">'+e[i].label+"</a></span></menu-item>"):$('<menu-item><a href="'+e[i].url+'">'+e[i].label+"</a></menu-item>"),n.push(t);return n},createHomeListItem:function(e,t){var n,i=this.listItem(),o="home";return n=t?$("<"+i+" "+o+'><span class="touch-icon '+t+'"></span><a href="'+e+'" data-route="false">Home</a></'+i+">"):$("<"+i+" "+o+'><a href="'+e+'" data-route="false">Home</a></'+i+">")},filterMenuItems:function(e){var t=e.find('[data-touch="false"]');return $.each(t,function(e,t){$(t).remove()}),e},touchifyUIDropdowns:function(e){var t=this;$.each(e,function(e,n){var i=$(n).find("ui-dropdown"),o=$(n).find("ui-mega-dropdown");i&&i.length>0?(i.replaceWith("<touch-ui-dropdown>"+i.html()+"</touch-ui-dropdown>"),o&&o.length>0&&(t.createTouchMenuItemsFromMegaDropdown(o,i),o.remove())):o&&o.length>0&&(i=$("<touch-ui-dropdown></touch-ui-dropdown>"),t.createTouchMenuItemsFromMegaDropdown(o,i),o.replaceWith(i))})},replaceWithMenuItemTags:function(e){for(var t=[],n=0;n<e.length;n++){var i=$(e[n]),o=i.find("ui-dropdown"),r=i.find("ui-mega-dropdown");if(o[0]||r[0]){var a=i.html(),s=$("<menu-item-dropdown>"+a+"</menu-item-dropdown>");t.push(s[0])}else t.push(i[0])}return t},iconifyTouchMenuItems:function(e){var t=this.iconAttribute();$.each(e,function(e,n){var i=$(n),o=i.attr(t);if(void 0!==o){var r=$('<span class="touch '+o+'"></span>');i.prepend(r)}})},createTouchMenuItemsFromMegaDropdown:function(e,t){var n=e.find("a").not('[touch-menu-item="false"]');$.each(n,function(e,n){var i=$("<menu-item></menu-item>");i.append(n),t.append(i)})}},_unbindSearch:function(e){e.off("focus"),e.off("blur")},_onDestroy:function(){this._unbindSearch()}}}),function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t():"function"==typeof define&&define.amd?define([],t):(e.elliptical=e.elliptical||{},e.elliptical.extensions=e.elliptical.extensions||{},e.elliptical.extensions.transition=t(),e.returnExports=e.elliptical.extensions.transition)}(this,function(){return{_transition:function(e,t,n){return $.transition=$.transition||$.transit,e instanceof jQuery||(e=$(e)),t=t||{},t==={}&&(t.duration=300,t.preset="fadeIn"),"none"===t.preset?void e.hide():void e.transition(t,function(){n&&n.call(e[0])})}}}),function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t():"function"==typeof define&&define.amd?define([],t):(e.elliptical=e.elliptical||{},e.elliptical.extensions=e.elliptical.extensions||{},e.elliptical.extensions.transform=t(),e.returnExports=e.elliptical.extensions.transform)}(this,function(){var e=$.transforms,t="ui-hardware-accelerated",n="ui-overflow-container",i="ui-fixed-toggle-container",o="ui-drawer-box-shadow";return{_setHardwareAcceleration:function(n){this._data.set("toggleAcceleration",e.setHardwareAcceleration(n,t))},_resetHardwareAcceleration:function(n){e.resetHardwareAcceleration(n,this._data.get("toggleAcceleration"),t)},_setContainerOverflow:function(t){this._data.set("toggleOverflow",e.setContainerOverflow(t,n))},_resetContainerOverflow:function(t){e.resetContainerOverflow(t,n)},_resetContainer:function(t){e.resetContainer(t,o,i)},_resetTransition:function(t){e.resetTransition(t)},_resetTransform:function(t){e.resetTransform(t)},_transform:function(t,n){e.transform(t,n)},_3dTransition:function(t,n,i){e.transition3d(t,n,i)}}}),function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t():"function"==typeof define&&define.amd?define([],t):(e.elliptical=e.elliptical||{},e.elliptical.extensions=e.elliptical.extensions||{},e.elliptical.extensions.event=t(),e.returnExports=e.elliptical.extensions.event)}(this,function(){return{_onEventTrigger:function(e,t){this._triggerEvent(e,t)},_triggerEvent:function(e,t){var n=$.Event(e);this._trigger(e,n,t)},_trigger:function(e,t,n){this.options?this._jqTrigger(e,t,n):this.__triggerEvent(e,n)},__triggerEvent:function(e,t){var n=this.tagName.toLowerCase(),i=this._utils.string.tagNameToNamespace(n);e=i+"."+e,this.element.trigger(e,t)},_jqTrigger:function(e,t,n){try{var i,o,r=this.options[e];n=n||{};var a=this.widgetEventPrefix,s=this.bindings[0].tagName.toLowerCase(),d=s.split("-"),u=d.length,l=this._utils.string.tagNameToNamespace(s),c=a.toArrayFromCamelCase(),h=this._utils.array.toNamespaceFromArray(c);if(a=h===l?h:u>1?l+"."+a:this.namespace+"."+a,t=$.Event(t),t.type=(e===a?e:a+"."+e).toLowerCase(),t.target=this.element[0],o=t.originalEvent)for(i in o)i in t||(t[i]=o[i]);return this.element.trigger(t,n),!($.isFunction(r)&&r.apply(this.element[0],[t].concat(n))===!1||t.isDefaultPrevented())}catch(p){}}}}),function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t(require("elliptical-utils")):"function"==typeof define&&define.amd?define(["elliptical-utils"],t):(e.elliptical.extensions=e.elliptical.extensions||{},e.elliptical.extensions.options=t(e.elliptical.utils),e.returnExports=e.elliptical.extensions.options)}(this,function(e){return{_setOptionsFromAttribute:function(){var e=this.options?this.options.opts:this.opts;void 0!==e&&(e=JSON.parse(e),this.options?this.options.opts=e:this.opts=e)}}}),function(e,t){if("undefined"!=typeof module&&module.exports)module.exports=t(require("elliptical-utils"),require("jquery-extensions"),require("./prototype.device"),require("./prototype.transition"),require("./prototype.transform"),require("./prototype.utils"),require("./prototype.event"),require("./prototype.options"));else if("function"==typeof define&&define.amd)define(["elliptical-utils","jquery-extensions","./prototype.device","./prototype.transition","./prototype.transform","./prototype.utils","./prototype.event","./prototype.options"],t);else{var n=e.elliptical.extensions;e.elliptical.extensions.base=t(e.elliptical.utils,e,n.device,n.transition,n.transform,n.utils,n.event,n.options),e.returnExports=e.elliptical.extensions.base}}(this,function(e,t,n,i,o,r,a,s){var d={};return Object.assign(d,r,n,i,o,a,s),d});